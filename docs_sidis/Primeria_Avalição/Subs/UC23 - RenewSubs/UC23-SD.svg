<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="774px" preserveAspectRatio="none" style="width:2313px;height:774px;background:#FFFFFF;" version="1.1" viewBox="0 0 2313 774" width="2313px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="562.5449" style="stroke:#181818;stroke-width:1.0;" width="10" x="273.5" y="112.7988"/><rect fill="#FFFFFF" height="477.958" style="stroke:#181818;stroke-width:1.0;" width="10" x="781.5" y="142.1094"/><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="535.4805"/><rect fill="none" height="249.1289" style="stroke:#000000;stroke-width:1.5;" width="798.5" x="1260.5" y="228.7305"/><rect fill="none" height="175.5078" style="stroke:#000000;stroke-width:1.5;" width="778.5" x="1270.5" y="295.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="57" x2="57" y1="81.4883" y2="693.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="278" x2="278" y1="81.4883" y2="693.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="786" x2="786" y1="81.4883" y2="693.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1372.5" x2="1372.5" y1="81.4883" y2="693.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1983" x2="1983" y1="81.4883" y2="693.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="18" y="78.5352">Subscriber</text><ellipse cx="57.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.5,21.5 L57.5,48.5 M44.5,29.5 L70.5,29.5 M57.5,48.5 L44.5,63.5 M57.5,48.5 L70.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="18" y="705.8789">Subscriber</text><ellipse cx="57.5" cy="717.332" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.5,725.332 L57.5,752.332 M44.5,733.332 L70.5,733.332 M57.5,752.332 L44.5,767.332 M57.5,752.332 L70.5,767.332 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="188" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="195" y="70.5352">:SubscriptionsController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="188" y="692.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="195" y="712.8789">:SubscriptionsController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="707" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="714" y="70.5352">:SubscriptionsService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="707" y="692.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="714" y="712.8789">:SubscriptionsService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184" x="1280.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1287.5" y="70.5352">:SubscriptionsRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184" x="1280.5" y="692.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1287.5" y="712.8789">:SubscriptionsRepository</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1928" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1935" y="70.5352">:Subscriptions</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="1928" y="692.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1935" y="712.8789">:Subscriptions</text><rect fill="#FFFFFF" height="562.5449" style="stroke:#181818;stroke-width:1.0;" width="10" x="273.5" y="112.7988"/><rect fill="#FFFFFF" height="477.958" style="stroke:#181818;stroke-width:1.0;" width="10" x="781.5" y="142.1094"/><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="171.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="535.4805"/><polygon fill="#181818" points="261.5,108.7988,271.5,112.7988,261.5,116.7988,265.5,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.5" x2="267.5" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="64.5" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="77.5" y="108.0566">PATCH /subscriptions/renew</text><polygon fill="#181818" points="769.5,138.1094,779.5,142.1094,769.5,146.1094,773.5,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="283.5" x2="775.5" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="290.5" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="466" x="303.5" y="137.3672">subscriptions = renewAnualSubscription(long desiredVersion,String auth);</text><polygon fill="#181818" points="1355.5,167.4199,1365.5,171.4199,1355.5,175.4199,1359.5,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="1361.5" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="798.5" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="544" x="811.5" y="166.6777">Subscriptions obj = subscriptionsRepository.renewSub(newString,auth,desiredVersion)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1377.5" x2="1419.5" y1="205.7305" y2="205.7305"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419.5" x2="1419.5" y1="205.7305" y2="218.7305"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1372.5" x2="1419.5" y1="218.7305" y2="218.7305"/><polygon fill="#181818" points="1382.5,214.7305,1372.5,218.7305,1382.5,222.7305,1378.5,218.7305" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1384.5" y="200.9883">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="1397.5" y="200.9883">HttpResponse&lt;String&gt; user = getUserFromOtherAPI(newString);</text><path d="M1260.5,228.7305 L1322.5,228.7305 L1322.5,236.041 L1312.5,246.041 L1260.5,246.041 L1260.5,228.7305 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="249.1289" style="stroke:#000000;stroke-width:1.5;" width="798.5" x="1260.5" y="228.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1275.5" y="242.2988">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62" x="1337.5" y="241.3652">[user exist]</text><path d="M2064,233.7305 L2064,334.7305 L2306,334.7305 L2306,243.7305 L2296,233.7305 L2064,233.7305 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2296,233.7305 L2296,243.7305 L2306,243.7305 L2296,233.7305 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2070" y="251.2988">if the user is trying to renew</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="2070" y="266.6094">a subscription which is not annual,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="2070" y="281.9199">the code will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="2070" y="297.2305">end here and throw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2070" y="312.541">a IllegalArgumentException</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2070" y="327.8516">&#160;</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1372.5" x2="1414.5" y1="272.3516" y2="272.3516"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414.5" x2="1414.5" y1="272.3516" y2="285.3516"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1367.5" x2="1414.5" y1="285.3516" y2="285.3516"/><polygon fill="#181818" points="1377.5,281.3516,1367.5,285.3516,1377.5,289.3516,1373.5,285.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1379.5" y="267.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="584" x="1392.5" y="267.6094">Optional&lt;Subscriptions&gt; subscription = findByActiveStatus_ActiveAndUser(true, newString);</text><path d="M1270.5,295.3516 L1332.5,295.3516 L1332.5,302.6621 L1322.5,312.6621 L1270.5,312.6621 L1270.5,295.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="175.5078" style="stroke:#000000;stroke-width:1.5;" width="778.5" x="1270.5" y="295.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1285.5" y="308.9199">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149" x="1347.5" y="307.9863">[subscription exist locally]</text><polygon fill="#181818" points="1971.5,329.9727,1981.5,333.9727,1971.5,337.9727,1975.5,333.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1372.5" x2="1977.5" y1="333.9727" y2="333.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1379.5" y="329.2305">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="1392.5" y="329.2305">subscription.checkChange(desiredVersion)</text><polygon fill="#181818" points="1971.5,359.2832,1981.5,363.2832,1971.5,367.2832,1975.5,363.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1372.5" x2="1977.5" y1="363.2832" y2="363.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1379.5" y="358.541">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397" x="1392.5" y="358.541">getEndDate().setEndDate(String.valueOf(endDate.plusYears(1)));</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1270.5" x2="2049" y1="372.2832" y2="372.2832"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="171" x="1275.5" y="382.918">[subscription exist not locally]</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1372.5" x2="1414.5" y1="412.5488" y2="412.5488"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414.5" x2="1414.5" y1="412.5488" y2="425.5488"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1367.5" x2="1414.5" y1="425.5488" y2="425.5488"/><polygon fill="#181818" points="1377.5,421.5488,1367.5,425.5488,1377.5,429.5488,1373.5,425.5488" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1379.5" y="407.8066">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="1392.5" y="407.8066">getSubsFromOtherApi(newString, auth)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1372.5" x2="1414.5" y1="454.8594" y2="454.8594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414.5" x2="1414.5" y1="454.8594" y2="467.8594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1367.5" x2="1414.5" y1="467.8594" y2="467.8594"/><polygon fill="#181818" points="1377.5,463.8594,1367.5,467.8594,1377.5,471.8594,1373.5,467.8594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1379.5" y="450.1172">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1392.5" y="450.1172">throw  IllegalArgumentException</text><polygon fill="#181818" points="802.5,502.1699,792.5,506.1699,802.5,510.1699,798.5,506.1699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="796.5" x2="1371.5" y1="506.1699" y2="506.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="808.5" y="501.4277">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="830.5" y="501.4277">subscription</text><polygon fill="#181818" points="1355.5,531.4805,1365.5,535.4805,1355.5,539.4805,1359.5,535.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="1361.5" y1="535.4805" y2="535.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="798.5" y="530.7383">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="820.5" y="530.7383">save(subscription)</text><polygon fill="#181818" points="802.5,560.791,792.5,564.791,802.5,568.791,798.5,564.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="796.5" x2="1371.5" y1="564.791" y2="564.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="808.5" y="560.0488">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="830.5" y="560.0488">subscription</text><polygon fill="#181818" points="294.5,616.0674,284.5,620.0674,294.5,624.0674,290.5,620.0674" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288.5" x2="785.5" y1="620.0674" y2="620.0674"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="300.5" y="615.3252">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="322.5" y="615.3252">subscription</text><path d="M5,577.791 L5,648.791 L269,648.791 L269,587.791 L259,577.791 L5,577.791 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M259,577.791 L259,587.791 L269,587.791 L259,577.791 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="11" y="595.3594">The controller here also</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="11" y="610.6699">creates an ResponseEntity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="11" y="625.9805">to show the user the subscription with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="11" y="641.291">"subscriptionsViewMapper" as objView</text><polygon fill="#181818" points="68.5,671.3438,58.5,675.3438,68.5,679.3438,64.5,675.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="277.5" y1="675.3438" y2="675.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="74.5" y="670.6016">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="96.5" y="670.6016">subscriptionView</text><!--SRC=[XLJBRjim4BppAnQ-L0RyGAzk6a1rKoI78a7S1kYfeAcrn9OcLJxi-E-x9ELOSbD71vkYXhCpozrzrtZVkiLytYgkVTYgcJ3RkSC_0RN0QILvRVcMyU0D5rxkk4SmEhthi5sZPOpH1sDXj0fh9woalH5m1wLWBRTU2jaICumMtVVMIwFTqcXlZL8TUEcjkWHVeTr9WGaRrvUmZzWQ9qdI8SF3EkvSEd74aPTImFGwoO45F9JVbhSmTttitAB6FKi8GaOnX1n0u2CaKAa3L_r0XJAwXWgTj5WzeNMqDrbvAscNCjgCFx345tcpwg5ECEjVHEvUTpjBGUb04VyIwoIoJeO1nunrv33j1O9RAeH7T2rnubK-VWt1eQM8DVhljFfYpVRUDsZBXxjJ45BDbSzGV9RECw3djHZtIJ9NLmDNrmD356qZTVNfKCPomvNdFhYV-QNKLPHHU1jm0dq1q3rHo80j2G9b15Vgy08xLxU0mQcPQ53yNZPSrrYSP-y21wNfHbUVgKUAySoTNhBCsOwhWFUR0lFsh5N1_K1kNV5-FEwP05GENxEXpTjMycMIafZZquMribSLkTWkK_Z6cZt07RLepLLfwx15xM-U1IP5BuV936FfXzGXM5atiG3a1YXkBWhfmDj3B79lScSGW0yDxXifceYC7hcEdJCXLEGGfaBOIwLOYWPa1mbIGPAOgFwhCYgBb7XMzDHbmwPb_tGUEBx3eeyPlyMHARhvSSwVywDmG-dvbcmT9s3dI3d3G5Yaqd3a3uxDUAEzz7JXb3pNq9syv3KkXacKlc4m6io79udxhxnjkq5B4oJkdF920-zgEZrElFxHXFiB]--></g></svg>