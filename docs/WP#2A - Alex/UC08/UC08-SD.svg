<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="756px" preserveAspectRatio="none" style="width:1464px;height:756px;background:#FFFFFF;" version="1.1" viewBox="0 0 1464 756" width="1464px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="538.4023" style="stroke:#181818;stroke-width:1.0;" width="10" x="204" y="116.9121"/><rect fill="#FFFFFF" height="438.2383" style="stroke:#181818;stroke-width:1.0;" width="10" x="652" y="148.2031"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1048" y="179.4941"/><rect fill="#FFFFFF" height="106.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="1201" y="317.2402"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1201" y="486.2773"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="83.6211" y2="673.3145"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="208.5" x2="208.5" y1="83.6211" y2="673.3145"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="657" x2="657" y1="83.6211" y2="673.3145"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1052.5" x2="1052.5" y1="83.6211" y2="673.3145"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1205.5" x2="1205.5" y1="83.6211" y2="673.3145"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1352.5" x2="1352.5" y1="83.6211" y2="673.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="80.1074">Subscriber</text><ellipse cx="42" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42,21.5 L42,48.5 M29,29.5 L55,29.5 M42,48.5 L29,63.5 M42,48.5 L55,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="687.4219">Subscriber</text><ellipse cx="42" cy="699.4355" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42,707.4355 L42,734.4355 M29,715.4355 L55,715.4355 M42,734.4355 L29,749.4355 M42,734.4355 L55,749.4355 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="126.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="133.5" y="72.1074">:SubscriptionsController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="126.5" y="672.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="133.5" y="694.4219">:SubscriptionsController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="582" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="589" y="72.1074">:SubscriptionsService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="582" y="672.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="589" y="694.4219">:SubscriptionsService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="995.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1002.5" y="72.1074">:UserRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="995.5" y="672.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1002.5" y="694.4219">:UserRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="1120.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1127.5" y="72.1074">:SubscriptionsRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="1120.5" y="672.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1127.5" y="694.4219">:SubscriptionsRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="1301.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1308.5" y="72.1074">:Subscriptions</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="1301.5" y="672.3145"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1308.5" y="694.4219">:Subscriptions</text><rect fill="#FFFFFF" height="538.4023" style="stroke:#181818;stroke-width:1.0;" width="10" x="204" y="116.9121"/><rect fill="#FFFFFF" height="438.2383" style="stroke:#181818;stroke-width:1.0;" width="10" x="652" y="148.2031"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1048" y="179.4941"/><rect fill="#FFFFFF" height="106.4551" style="stroke:#181818;stroke-width:1.0;" width="10" x="1201" y="317.2402"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1201" y="486.2773"/><polygon fill="#181818" points="192,112.9121,202,116.9121,192,120.9121,196,116.9121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="198" y1="116.9121" y2="116.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="49" y="111.6494">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="60" y="111.6494">PATCH /subscriptions/</text><polygon fill="#181818" points="640,144.2031,650,148.2031,640,152.2031,644,148.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="214" x2="646" y1="148.2031" y2="148.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="221" y="142.9404">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="232" y="142.9404">Subscriptions subscriptions = cancelSubscription(long desiredVersion)</text><polygon fill="#181818" points="1036,175.4941,1046,179.4941,1036,183.4941,1040,179.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="1042" y1="179.4941" y2="179.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="669" y="174.2314">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="680" y="174.2314">User user = userRepository.findById(Long.valueOf(newString))</text><polygon fill="#181818" points="673,244.3672,663,248.3672,673,252.3672,669,248.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="667" x2="1052" y1="248.3672" y2="248.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="679" y="243.1045">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="690" y="243.1045">user</text><path d="M1063,192.4941 L1063,288.4941 L1360,288.4941 L1360,202.4941 L1350,192.4941 L1063,192.4941 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1350,192.4941 L1350,202.4941 L1360,202.4941 L1350,192.4941 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1069" y="211.5225">This retrieves the information of the logged</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1069" y="228.8135">in user from the repository.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="1069" y="246.1045">If the user who is trying to cancel a subscription</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="1069" y="263.3955">does not exist in the system  the code will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="1069" y="280.6865">end here and throw a EntityNotFoundException</text><polygon fill="#181818" points="1189,313.2402,1199,317.2402,1189,321.2402,1193,317.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="1195" y1="317.2402" y2="317.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="669" y="311.9775">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="680" y="311.9775">Subscriptions subscription = repository.findByUser(user)</text><polygon fill="#181818" points="673,419.6953,663,423.6953,673,427.6953,669,423.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="667" x2="1205" y1="423.6953" y2="423.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="679" y="418.4326">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="690" y="418.4326">subscription</text><path d="M1216,330.2402 L1216,426.2402 L1457,426.2402 L1457,340.2402 L1447,330.2402 L1216,330.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1447,330.2402 L1447,340.2402 L1457,340.2402 L1447,330.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="1222" y="349.2686">if the user is trying to cancel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="1222" y="366.5596">a subscription does not have an active</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1222" y="383.8506">subscription the code will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1222" y="401.1416">end here and throw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="1222" y="418.4326">a EntityNotFoundException</text><path d="M408,330.2402 L408,426.2402 L647,426.2402 L647,340.2402 L637,330.2402 L408,330.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M637,330.2402 L637,340.2402 L647,340.2402 L637,330.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="414" y="349.2686">if it does have a subscription it</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="414" y="366.5596">will check if the subscription is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="414" y="383.8506">already canceled or not.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="414" y="401.1416">if the subscription is already canceled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="414" y="418.4326">it will throw EntityNotFoundException</text><polygon fill="#181818" points="1336,450.9863,1346,454.9863,1336,458.9863,1340,454.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="1342" y1="454.9863" y2="454.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="669" y="449.7236">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="680" y="449.7236">subscription.deactivate(desiredVersion)</text><polygon fill="#181818" points="1189,482.2773,1199,486.2773,1189,490.2773,1193,486.2773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="662" x2="1195" y1="486.2773" y2="486.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="669" y="481.0146">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="680" y="481.0146">save(obj)</text><polygon fill="#181818" points="673,513.5684,663,517.5684,673,521.5684,669,517.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="667" x2="1205" y1="517.5684" y2="517.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="679" y="512.3057">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="690" y="512.3057">subscription</text><polygon fill="#181818" points="225,582.4414,215,586.4414,225,590.4414,221,586.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="219" x2="656" y1="586.4414" y2="586.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="231" y="581.1787">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="249" y="581.1787">subscription</text><path d="M8,530.5684 L8,626.5684 L199,626.5684 L199,540.5684 L189,530.5684 L8,530.5684 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M189,530.5684 L189,540.5684 L199,540.5684 L189,530.5684 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="18" y="549.5967">The controller here also</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="14" y="566.8877">creates an ResponseEntity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="18" y="584.1787">to show the user the obj with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="18" y="601.4697">"subscriptionsViewMapper"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="18" y="618.7607">as subscriptionView</text><polygon fill="#181818" points="53,651.3145,43,655.3145,53,659.3145,49,655.3145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="208" y1="655.3145" y2="655.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="650.0518">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="77" y="650.0518">subscriptionView</text><!--SRC=[XLHDRzim3BthLn2vB3aakGVhWAxei0BxGfFrhafCh4sMF8bEcdy_IhRhZspDfLN4nyV7Hvdl2g8gRjRhoaf7TMbNofVhY7zgT0gNsiX3aAMGDNcfo1mb8NYNVxkwVCOWXE203p3RrizH1SDtCv0HRfMeP22ZJCNCCDkqyOgCT_7EEmhUsXPyHy6-1TzYE1g56PlE4-pFYE4HAnyDApbdL7Vr5kiaXMFNCZgS4BSAbX-oRjZ0ZzlTtMTOno5qBNAGGKamWqP4CCB23IZ9VjiXPcwzEu36Q0Bg9moHxnP2P3PcxHg4t3tKwSzD_jUtjTeRfp-U7_Jy2tEjZjBM-7q_TtZQKZ3ki5Y8LvfbhpIH2E4yppgOGq42O5UO204v2uyOWGe4u_O-b3991R_FLzOV3gWPRbmZQ1zycIEXryJXXmQU8QV20tDJEBCW8Dyw0N9a4ITfpuLP5E2BYPHA98vuZeGbvBFo6k5ah6KqEWq51WJ91og2Fp7ZlID3vs-UFldQwViNXGrv0gTsUtVRjm2R_q-DtGvJfvERyzJMGdGC0rz73OtzDGD7_k468yP-z6uKyfYQXFnv8WD7iEksPEhhncIr5lUjM4EDWgRwkAP9c5GFL87gTzVR61DJNHjGwdFR8shWDS9rLhqVavoBZ8IafbOpu-kDQ7nTPEb37WnyCg5LZvnVV8NJXyAfxCJSF_-wdFnay4rckpocZsBeyoxFhjkJxTXiz4An2SJcyzGVCLRyCB7fMwGN4mlsuVKnfGEhOe-e430RhPqdWwUligfu2Okqs8R15EjTusttVhdirjq5xYy0]--></g></svg>