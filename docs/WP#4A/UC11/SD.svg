<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="952px" preserveAspectRatio="none" style="width:1413px;height:952px;background:#FFFFFF;" version="1.1" viewBox="0 0 1413 952" width="1413px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="734.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="215" y="116.9121"/><rect fill="#FFFFFF" height="712.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="637" y="148.2031"/><rect fill="#FFFFFF" height="127.8096" style="stroke:#181818;stroke-width:1.0;" width="10" x="642" y="663.3145"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="179.4941"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1019.5" y="317.2402"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="454.9863"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="699.6055"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1326.5" y="592.7324"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="106" x2="106" y1="83.6211" y2="869.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="219.5" x2="219.5" y1="83.6211" y2="869.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="642" x2="642" y1="83.6211" y2="869.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="874.5" x2="874.5" y1="83.6211" y2="869.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1024.5" x2="1024.5" y1="83.6211" y2="869.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1180.5" x2="1180.5" y1="83.6211" y2="869.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1331.5" x2="1331.5" y1="83.6211" y2="869.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="69" y="80.1074">Subscriber</text><ellipse cx="106" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M106,21.5 L106,48.5 M93,29.5 L119,29.5 M106,48.5 L93,63.5 M106,48.5 L119,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="69" y="883.459">Subscriber</text><ellipse cx="106" cy="895.4727" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M106,903.4727 L106,930.4727 M93,911.4727 L119,911.4727 M106,930.4727 L93,945.4727 M106,930.4727 L119,945.4727 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="158.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="165.5" y="72.1074">:DeviceController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="158.5" y="868.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="165.5" y="890.459">:DeviceController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="588" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="595" y="72.1074">:DeviceService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="588" y="868.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="595" y="890.459">:DeviceService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="817.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="824.5" y="72.1074">:UserRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="817.5" y="868.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="824.5" y="890.459">:UserRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="942.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="949.5" y="72.1074">:SubscriptionRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="942.5" y="868.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="949.5" y="890.459">:SubscriptionRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="1116.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="1123.5" y="72.1074">:DeviceRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="1116.5" y="868.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="1123.5" y="890.459">:DeviceRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1255.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1262.5" y="72.1074">:CreateDeviceMapper</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1255.5" y="868.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1262.5" y="890.459">:CreateDeviceMapper</text><rect fill="#FFFFFF" height="734.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="215" y="116.9121"/><rect fill="#FFFFFF" height="712.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="637" y="148.2031"/><rect fill="#FFFFFF" height="127.8096" style="stroke:#181818;stroke-width:1.0;" width="10" x="642" y="663.3145"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="870" y="179.4941"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1019.5" y="317.2402"/><rect fill="#FFFFFF" height="68.873" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="454.9863"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176" y="699.6055"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1326.5" y="592.7324"/><polygon fill="#181818" points="203,112.9121,213,116.9121,203,120.9121,207,116.9121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="106" x2="209" y1="116.9121" y2="116.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="113" y="111.6494">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="124" y="111.6494">POST /device</text><polygon fill="#181818" points="625,144.2031,635,148.2031,625,152.2031,629,148.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="225" x2="631" y1="148.2031" y2="148.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="232" y="142.9404">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382" x="243" y="142.9404">create(CreateDeviceRequest resource, DeviceImage deviceImage);</text><polygon fill="#181818" points="858,175.4941,868,179.4941,858,183.4941,862,179.4941" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="647" x2="864" y1="179.4941" y2="179.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="654" y="174.2314">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="665" y="174.2314">user = findById(userId)</text><polygon fill="#181818" points="658,244.3672,648,248.3672,658,252.3672,654,248.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="652" x2="874" y1="248.3672" y2="248.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="664" y="243.1045">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="675" y="243.1045">user</text><path d="M885,192.4941 L885,288.4941 L1065,288.4941 L1065,202.4941 L1055,192.4941 L885,192.4941 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1055,192.4941 L1055,202.4941 L1065,202.4941 L1055,192.4941 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="891" y="211.5225">if the user isn't</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="891" y="228.8135">logged in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="891" y="246.1045">the code will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="891" y="263.3955">end here and throw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="891" y="280.6865">a EntityNotFoundException</text><polygon fill="#181818" points="1007.5,313.2402,1017.5,317.2402,1007.5,321.2402,1011.5,317.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="647" x2="1013.5" y1="317.2402" y2="317.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="654" y="311.9775">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="665" y="311.9775">subscription = findByUser(user)</text><polygon fill="#181818" points="658,382.1133,648,386.1133,658,390.1133,654,386.1133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="652" x2="1023.5" y1="386.1133" y2="386.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="664" y="380.8506">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="675" y="380.8506">subscription</text><path d="M1034,330.2402 L1034,426.2402 L1214,426.2402 L1214,340.2402 L1204,330.2402 L1034,330.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1204,330.2402 L1204,340.2402 L1214,340.2402 L1204,330.2402 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1040" y="349.2686">if subscription not found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1040" y="366.5596">for user logged in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1040" y="383.8506">the code will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1040" y="401.1416">end here and throw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="1040" y="418.4326">a EntityNotFoundException</text><polygon fill="#181818" points="1164,450.9863,1174,454.9863,1164,458.9863,1168,454.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="647" x2="1170" y1="454.9863" y2="454.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="654" y="449.7236">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390" x="665" y="449.7236">device findByMacAddress_MacAddress(resource.getMacAddress())</text><polygon fill="#181818" points="658,519.8594,648,523.8594,658,527.8594,654,523.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="652" x2="1180" y1="523.8594" y2="523.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="664" y="518.5967">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="675" y="518.5967">device</text><path d="M1191,467.9863 L1191,563.9863 L1370,563.9863 L1370,477.9863 L1360,467.9863 L1191,467.9863 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1360,467.9863 L1360,477.9863 L1370,477.9863 L1360,467.9863 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1197" y="487.0146">if a device has the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1197" y="504.3057">same mac address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1197" y="521.5967">has another the code will</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1197" y="538.8877">end here and throw</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1197" y="556.1787">a IllegalArgumentException</text><polygon fill="#181818" points="1314.5,588.7324,1324.5,592.7324,1314.5,596.7324,1318.5,592.7324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="647" x2="1320.5" y1="592.7324" y2="592.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="654" y="587.4697">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="665" y="587.4697">Device obj  = create(subscription, resource)</text><polygon fill="#181818" points="658,620.0234,648,624.0234,658,628.0234,654,624.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="652" x2="1330.5" y1="624.0234" y2="624.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="664" y="618.7607">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="682" y="618.7607">obj</text><line style="stroke:#181818;stroke-width:1.0;" x1="647" x2="694" y1="650.3145" y2="650.3145"/><line style="stroke:#181818;stroke-width:1.0;" x1="694" x2="694" y1="650.3145" y2="663.3145"/><line style="stroke:#181818;stroke-width:1.0;" x1="653" x2="694" y1="663.3145" y2="663.3145"/><polygon fill="#181818" points="663,659.3145,653,663.3145,663,667.3145,659,663.3145" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="659" y="645.0518">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="677" y="645.0518">obj.setDeviceImage(deviceImage)</text><polygon fill="#181818" points="1164,695.6055,1174,699.6055,1164,703.6055,1168,699.6055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="652" x2="1170" y1="699.6055" y2="699.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="659" y="694.3428">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="677" y="694.3428">save(obj)</text><polygon fill="#181818" points="663,726.8965,653,730.8965,663,734.8965,659,730.8965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="657" x2="1180" y1="730.8965" y2="730.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="669" y="725.6338">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="687" y="725.6338">obj</text><polygon fill="#181818" points="236,787.124,226,791.124,236,795.124,232,791.124" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="230" x2="636" y1="791.124" y2="791.124"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="242" y="785.8613">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="260" y="785.8613">obj</text><path d="M5,743.8965 L5,822.8965 L210,822.8965 L210,753.8965 L200,743.8965 L5,743.8965 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M200,743.8965 L200,753.8965 L210,753.8965 L200,743.8965 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="11" y="762.9248">The controller here also</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="11" y="780.2158">creates an ResponseEntity</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="11" y="797.5068">to show the user the obj with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="11" y="814.7979">"deviceViewMapper" as objView</text><polygon fill="#181818" points="117,847.3516,107,851.3516,117,855.3516,113,851.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="111" x2="219" y1="851.3516" y2="851.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="123" y="846.0889">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="141" y="846.0889">objView</text><!--SRC=[jLHBZzCm4BxxLunwsKRQjlVmaCgoI3qieEt2TUNQqyJ8iOFjjFJVCtQSDWqLui8favbl7jyyV5U7qFfojMerDw5hz5BOPkNnPuT6u48gNZdUCDu5oqLG1nuGh4d_fcjswDYrB89rCDjsEo-S8jKCk8UrO2rtGGdLKXAObH_ne0G-M1ESrJgZ7eBJDt5RTF6JG56UWBvvTC_OMgyezocX1jK4cSjgWx9cua6c6mvz_Wdq1kx18JMcHp_njisCUf4njXQmU9y8GWbVlsnVO2KJcB6a96Ca1gL8WURZUCzn5Zw0Gsyx9_0UUlscuHM2lCZ56yPI58esD03AZYHu1tjbv8VJHixZ_qOMx8nOd9D3j35ZQSHELNLW06eFeSPa0ENDNTHfMrKeGHcIer5OYN1KMjC_6WarEWHEGgYTFPAImwC9Afm-s_39TaO-_XAOPi0YFEQx59xd0AKVpUfSVomwCIZO01oLFtRvWyPLF3B2FfP2jZqjREBtNtdrfFAuCfidBjPIqbpzwqMS3tDULXX6wg9WKxvvXQPC-P2bfXKa8gJrl45ek03UHoDLD79o9LR_odP3frfnlNPLrw09VwFRRpxa0mAx-m4qnBpTur7Sd_UwO2nx3HJBw3TQZK6rz1X6Dp0Vty1rnsad-07dv4E6g_PTnSwtsUjIEpNkgPilgI_38vLRehrbcKdi8ENnhJKU-rrW42pusXulTnE5s82Z2ZM3ML_jTuN7qKj1zgYvT99UZBUBnV1a3ERV]--></g></svg>